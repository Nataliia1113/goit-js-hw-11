{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function showImages(images, gallery) {\n  gallery.innerHTML = images\n    .map(\n      img =>\n        `<li>\n                <a class='gallery-link' href=\"${img.largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${img.webformatURL}\" alt=\"${img.tags}\"></a>\n                <ul class=\"gallery-list\">\n                    <li class='gallery-item'>\n                        <h2 class='gallery-title'>Likes</h2>\n                        <p class='gallery-value'>${img.likes}</p>\n                    </li>\n                    <li class='gallery-item'>\n                        <h2 class='gallery-title'>Views</h2>\n                        <p class='gallery-value'>${img.views}</p>\n                    </li>                    \n                    <li class='gallery-item'>\n                        <h2 class='gallery-title'>Comments</h2>\n                        <p class='gallery-value'>${img.comments}</p>\n                    </li>                    \n                    <li class='gallery-item'>\n                        <h2 class='gallery-title'>Downloads</h2>\n                        <p class='gallery-value'>${img.downloads}</p>\n                    </li>\n                </ul>\n                </li>`\n    )\n    .join('');\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n","const KEY = '42770823-dcf8f8c65a8a1b4479734e1b0';\nconst BASE_URI = 'https://pixabay.com/api/';\n// let CARD = ''\n\nconst LINK = `${BASE_URI}?key=${KEY}`;\n\nexport function getImages(cards) {\n  let truthCards = cards;\n  if (cards.includes(' ')) {\n    truthCards = cards.split(' ').join('+');\n  }\n\n  return fetch(`${LINK}&q=${cards}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Images error!');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      alert(error);\n    });\n}\n","// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\nimport { showImages } from './js/render-functions.js';\nimport { getImages } from './js/pixabay-api.js';\n\nconst formEl = document.querySelector('.form');\nconst loaderEl = document.querySelector('.loader');\nconst listEl = document.querySelector('.gallery');\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  listEl.innerHTML = '';\n\n  // const cards = event.currentTarget.image_name.value;\n  const input = document.querySelector('input');\n  const cards = input.value.trim();\n\n  if (cards.length === 0 || cards.trim() === '') {\n    iziToast.warning({\n      message: 'You forgot to enter details',\n    });\n  } else {\n    loaderEl.classList.remove('is-hidden');\n    getImages(cards)\n      .then(data => {\n        \n        if (!data.hits.length) {\n          iziToast.info({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        }\n\n        const images = data.hits.slice(0, 15);\n\n        showImages(images, listEl);\n      })\n      .catch(() => {\n        iziToast.error({\n          message: 'Error',\n        });\n      })\n      .finally(() => {\n        loaderEl.classList.add('is-hidden');\n        formEl.reset();\n      });\n  }\n});\n"],"names":["showImages","images","gallery","img","SimpleLightbox","KEY","BASE_URI","LINK","getImages","cards","response","error","formEl","loaderEl","listEl","event","data"],"mappings":"svBAGO,SAASA,EAAWC,EAAQC,EAAS,CAC1CA,EAAQ,UAAYD,EACjB,IACCE,GACE;AAAA,gDACwCA,EAAI,aAAa;AAAA,gDACjBA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,mDAI/BA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mDAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,mDAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,mDAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,sBAI3D,EACA,KAAK,EAAE,EAEO,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CCrCA,MAAMC,EAAM,qCACNC,EAAW,2BAGXC,EAAO,GAAGD,CAAQ,QAAQD,CAAG,GAE5B,SAASG,EAAUC,EAAO,CAE/B,OAAIA,EAAM,SAAS,GAAG,GACPA,EAAM,MAAM,GAAG,EAAE,KAAK,GAAG,EAGjC,MAAM,GAAGF,CAAI,MAAME,CAAK,EAAE,EAC9B,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,eAAe,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,MAAMA,CAAK,CACjB,CAAK,CACL,CChBA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAS,SAAS,cAAc,UAAU,EAEhDF,EAAO,iBAAiB,SAAUG,GAAS,CACzCA,EAAM,eAAc,EAEpBD,EAAO,UAAY,GAInB,MAAML,EADQ,SAAS,cAAc,OAAO,EACxB,MAAM,KAAI,EAE1BA,EAAM,SAAW,GAAKA,EAAM,KAAM,IAAK,GACzC,SAAS,QAAQ,CACf,QAAS,6BACf,CAAK,GAEDI,EAAS,UAAU,OAAO,WAAW,EACrCL,EAAUC,CAAK,EACZ,KAAKO,GAAQ,CAEPA,EAAK,KAAK,QACb,SAAS,KAAK,CACZ,QACE,0EACd,CAAW,EAGH,MAAMf,EAASe,EAAK,KAAK,MAAM,EAAG,EAAE,EAEpChB,EAAWC,EAAQa,CAAM,CACjC,CAAO,EACA,MAAM,IAAM,CACX,SAAS,MAAM,CACb,QAAS,OACnB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbD,EAAS,UAAU,IAAI,WAAW,EAClCD,EAAO,MAAK,CACpB,CAAO,EAEP,CAAC"}